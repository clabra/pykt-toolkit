{
  "original_experiment_id": "20251101_202326_gainakt2exp_check_consistency",
  "relaunch_experiment_id": "20251101_205242_gainakt2exp_check_consistency_relaunch",
  "original_config_md5": "d4176161032266f11605d99403fe8039",
  "relaunch_config_md5": "7aa8383fced3245d7f2cc9008bb3cb82",
  "train_script": "/workspaces/pykt-toolkit/examples/train_gainakt2exp.py",
  "original_train_command": "python /workspaces/pykt-toolkit/examples/train_gainakt2exp.py --config /workspaces/pykt-toolkit/examples/experiments/20251101_202326_gainakt2exp_check_consistency/config.json",
  "reconstructed_train_command": "/home/vscode/.pykt-env/bin/python /workspaces/pykt-toolkit/examples/train_gainakt2exp.py --seed 42 --epochs 12 --batch_size 64 --learning_rate 0.000174 --weight_decay 1.7571e-05 --optimizer Adam --gradient_clip 1.0 --patience 20 --dataset assist2015 --fold 0 --use_mastery_head --use_gain_head --enhanced_constraints --non_negative_loss_weight 0.0 --monotonicity_loss_weight 0.1 --mastery_performance_loss_weight 0.8 --gain_performance_loss_weight 0.8 --sparsity_loss_weight 0.2 --consistency_loss_weight 0.3 --warmup_constraint_epochs 8 --max_semantic_students 50 --enable_alignment_loss --alignment_weight 0.25 --alignment_warmup_epochs 8 --adaptive_alignment --alignment_min_correlation 0.05 --alignment_share_cap 0.08 --alignment_share_decay_factor 0.7 --enable_global_alignment_pass --alignment_global_students 600 --use_residual_alignment --alignment_residual_window 5 --enable_retention_loss --retention_delta 0.005 --retention_weight 0.14 --enable_lag_gain_loss --lag_gain_weight 0.06 --lag_max_lag 3 --lag_l1_weight 0.5 --lag_l2_weight 0.3 --lag_l3_weight 0.2 --consistency_rebalance_epoch 8 --consistency_rebalance_threshold 0.1 --consistency_rebalance_new_weight 0.2 --variance_floor 0.0001 --variance_floor_patience 3 --variance_floor_reduce_factor 0.5 --seq_len 200 --d_model 512 --n_heads 8 --num_encoder_blocks 6 --d_ff 1024 --dropout 0.2 --emb_type qid",
  "param_diffs_substantive": {
    "preflight_consistency.train_script": {
      "original": "/workspaces/pykt-toolkit/examples/train_gainakt2exp.py",
      "new": "<missing>"
    },
    "preflight_consistency.eval_script": {
      "original": "examples/eval_gainakt2exp.py",
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_json_training": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_argparse_training": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.extraneous_training_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_json_evaluation": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_argparse_evaluation": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.extraneous_evaluation_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.model_config_defaults": {
      "original": [
        "d_ff",
        "d_model",
        "dropout",
        "emb_type",
        "n_heads",
        "num_encoder_blocks",
        "seq_len"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_keys": {
      "original": [
        "seq_len",
        "d_model",
        "n_heads",
        "num_encoder_blocks",
        "d_ff",
        "dropout",
        "emb_type"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_not_in_model_config_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_not_in_training_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_not_in_evaluation_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_missing_train_argparse_flags": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_missing_eval_argparse_flags": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.ignored_eval_flags": {
      "original": [
        "device",
        "run_dir"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.ignored_training_flags": {
      "original": [
        "auto_shifted_eval",
        "config",
        "experiment_id"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.drift_detected": {
      "original": false,
      "new": "<missing>"
    },
    "preflight_consistency.exit_code": {
      "original": 0,
      "new": "<missing>"
    },
    "evaluation_snapshot.emb_type": {
      "original": "<missing>",
      "new": "qid"
    }
  },
  "missing_params": {
    "preflight_consistency.train_script": {
      "original": "/workspaces/pykt-toolkit/examples/train_gainakt2exp.py",
      "new": "<missing>"
    },
    "preflight_consistency.eval_script": {
      "original": "examples/eval_gainakt2exp.py",
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_json_training": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_argparse_training": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.extraneous_training_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_json_evaluation": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.missing_in_argparse_evaluation": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.extraneous_evaluation_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.model_config_defaults": {
      "original": [
        "d_ff",
        "d_model",
        "dropout",
        "emb_type",
        "n_heads",
        "num_encoder_blocks",
        "seq_len"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_keys": {
      "original": [
        "seq_len",
        "d_model",
        "n_heads",
        "num_encoder_blocks",
        "d_ff",
        "dropout",
        "emb_type"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_not_in_model_config_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_not_in_training_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_not_in_evaluation_defaults": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_missing_train_argparse_flags": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.architecture_missing_eval_argparse_flags": {
      "original": [],
      "new": "<missing>"
    },
    "preflight_consistency.ignored_eval_flags": {
      "original": [
        "device",
        "run_dir"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.ignored_training_flags": {
      "original": [
        "auto_shifted_eval",
        "config",
        "experiment_id"
      ],
      "new": "<missing>"
    },
    "preflight_consistency.drift_detected": {
      "original": false,
      "new": "<missing>"
    },
    "preflight_consistency.exit_code": {
      "original": 0,
      "new": "<missing>"
    },
    "evaluation_snapshot.emb_type": {
      "original": "<missing>",
      "new": "qid"
    }
  },
  "skipped_params": {
    "preflight_consistency.train_script": "missing flag --train_script",
    "preflight_consistency.eval_script": "missing flag --eval_script",
    "preflight_consistency.missing_in_json_training": "missing flag --missing_in_json_training",
    "preflight_consistency.missing_in_argparse_training": "missing flag --missing_in_argparse_training",
    "preflight_consistency.extraneous_training_defaults": "missing flag --extraneous_training_defaults",
    "preflight_consistency.missing_in_json_evaluation": "missing flag --missing_in_json_evaluation",
    "preflight_consistency.missing_in_argparse_evaluation": "missing flag --missing_in_argparse_evaluation",
    "preflight_consistency.extraneous_evaluation_defaults": "missing flag --extraneous_evaluation_defaults",
    "preflight_consistency.model_config_defaults": "missing flag --model_config_defaults",
    "preflight_consistency.architecture_keys": "missing flag --architecture_keys",
    "preflight_consistency.architecture_not_in_model_config_defaults": "missing flag --architecture_not_in_model_config_defaults",
    "preflight_consistency.architecture_not_in_training_defaults": "missing flag --architecture_not_in_training_defaults",
    "preflight_consistency.architecture_not_in_evaluation_defaults": "missing flag --architecture_not_in_evaluation_defaults",
    "preflight_consistency.architecture_missing_train_argparse_flags": "missing flag --architecture_missing_train_argparse_flags",
    "preflight_consistency.architecture_missing_eval_argparse_flags": "missing flag --architecture_missing_eval_argparse_flags",
    "preflight_consistency.ignored_eval_flags": "missing flag --ignored_eval_flags",
    "preflight_consistency.ignored_training_flags": "missing flag --ignored_training_flags",
    "preflight_consistency.exit_code": "missing flag --exit_code"
  },
  "devices_original": [
    0,
    1,
    2
  ],
  "devices_used": [
    0,
    1,
    2
  ],
  "device_adaptation_note": null,
  "gpu_comparison": {
    "original_devices": [
      0,
      1,
      2
    ],
    "relaunch_devices": [
      0,
      1,
      2
    ],
    "device_count_original": 3,
    "device_count_relaunch": 3,
    "device_count_changed": false
  },
  "seed_match": true,
  "epoch_diff_info": null,
  "md5_comparison": {
    "md5_match": false,
    "original_md5": "d4176161032266f11605d99403fe8039",
    "relaunch_md5": "7aa8383fced3245d7f2cc9008bb3cb82"
  },
  "dry_run": false,
  "invariant_failures": [],
  "correlation_deterministic": true,
  "epoch_override_ignored": false,
  "strict_failure": false,
  "strict_guidance": "Strict mode disabled.",
  "metrics_comparison": {
    "original": {
      "best_val_auc": 0.7257377349250834,
      "mastery_corr": 0.08667573538304907,
      "gain_corr": 0.05858986421865886
    },
    "relaunch": {
      "best_val_auc": 0.726261544676196,
      "mastery_corr": 0.08775031499656807,
      "gain_corr": 0.04901666511959794
    },
    "diffs": {
      "best_val_auc": {
        "original": 0.7257377349250834,
        "relaunch": 0.726261544676196,
        "abs_diff": 0.0005238097511125472,
        "tolerance": 0.001
      },
      "mastery_corr": {
        "original": 0.08667573538304907,
        "relaunch": 0.08775031499656807,
        "abs_diff": 0.0010745796135190055,
        "tolerance": 0.01
      },
      "gain_corr": {
        "original": 0.05858986421865886,
        "relaunch": 0.04901666511959794,
        "abs_diff": 0.009573199099060924,
        "tolerance": 0.01
      }
    },
    "within_tolerance": true,
    "tolerance_map": {
      "best_val_auc": 0.001,
      "mastery_corr": 0.01,
      "gain_corr": 0.01
    },
    "training_exit_code": 0,
    "original_metrics_exists": true,
    "relaunch_metrics_exists": true
  },
  "audit_completed_at": "2025-11-01T21:10:42.037410",
  "missing_params_count": 20
}